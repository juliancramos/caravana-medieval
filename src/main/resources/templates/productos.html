<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Productos</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>

<!-- 🔹 Menú de navegación agregado -->
<header>
    <nav class="menu">
        <ul>
            <li><a th:href="@{/caravan/listar}">Caravanas</a></li>
            <li><a th:href="@{/product/listar}">Productos</a></li>
        </ul>
    </nav>
</header>

<div class="center-container">
    <h2 class="crud-title">Gestión de Productos</h2>

    <!-- Formulario para crear/editar product -->
    <form class="form-crud" id="productoForm" th:action="@{/product/save}" method="post">
        <input class="input-crud" type="hidden" id="idProducto" name="idProducto">

        <label class="label-crud">Nombre:</label>
        <input class="input-crud" type="text" id="nombre" name="nombre" required>

        <label class="label-crud">Descripción:</label>
        <input class="input-crud" type="text" id="descripcion" name="descripcion" required>

        <label class="label-crud">Peso:</label>
        <input class="input-crud" type="number" step="0.01" id="peso" name="peso" required>

        <button class="button-crud" type="submit">Guardar</button>
    </form>

    <h3>Lista de Productos</h3>
</div>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Peso</th>
        <th>Acciones</th>
    </tr>
    </thead>
    <tbody id="productosTable">
    <tr th:each="product : ${products}">
        <td th:text="${product.idProducto}"></td>
        <td th:text="${product.nombre}"></td>
        <td th:text="${product.descripcion}"></td>
        <td th:text="${product.peso}"></td>
        <td>
            <a class="button-crud" th:href="@{/product/editar/{idProducto}(idProducto=${product.idProducto})}">Editar</a>
            <a class="button-crud" th:href="@{/product/eliminar/{idProducto}(idProducto=${product.idProducto})}">Eliminar</a>
        </td>

    </tr>
    </tbody>
</table>

</body>
</html>
