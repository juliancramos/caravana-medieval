<div class="inventory-screen">
  <div class="screen-fade"></div>
  <img src="/assets/img/bg-inventory.png" class="inventory-background" />

  <app-game-status-bar (serviceSelected)="showServiceInfo($event)"></app-game-status-bar>

  <div class="inventory-panel">
    <!-- Título -->
    <div class="inventory-title">Inventario</div>

    <!-- Filtros -->
    <div class="inventory-filters">
      <button (click)="filterCategory('all')" [class.active]="selectedCategory === 'all'">Todos</button>
      <button (click)="filterCategory('recursos')" [class.active]="selectedCategory === 'recursos'">🌾 Recursos</button>
      <button (click)="filterCategory('armas')" [class.active]="selectedCategory === 'armas'">⚔️ Armas</button>
      <button (click)="filterCategory('alquimia')" [class.active]="selectedCategory === 'alquimia'">🧪 Alquimia</button>
    </div>

    <!-- Productos -->
    <div class="items-scroll">
      @for (item of products(); track item.product.idProduct) {
        <div class="item-tile">
          <div class="item-content">
            <img [src]="item.product.imgUrl || '/assets/icons/bag.png'" [alt]="item.product.name" />
            <span class="item-name">{{ item.product.name }}<br>x{{ item.quantity }}</span>
          </div>
        </div>
      }
    </div>
    
  </div>

  <button class="back-button" (click)="exitInventory()">⬅ Volver</button>

  <app-service-popup
    *ngIf="selectedService"
    [service]="selectedService"
    (close)="closeServiceInfo()"
  ></app-service-popup>
</div>
